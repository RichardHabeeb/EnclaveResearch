 <!DOCTYPE html>
<html>
<head>
	<title>Enclave Research</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css" integrity="sha384-b6lVK+yci+bfDmaY1u0zE8YYJt0TZxLEAFyYSLHId4xoVvsrQu3INevFKo+Xir8e" crossorigin="anonymous">

</head>

<body>
<div class="container">
<h1 class="display-3">Enclave Research</h1>

<p>
This repo gathers, categorizes, and compares knowledge on computation enclaves and trusted execution environments (TEEs). Note that different researchers and developers use the term "enclave" and "TEE" to mean similar things, I view this mostly as a difference of terminology for the purposes of this document.
</p>

<h2 class="display-6">What are Enclaves?</h2>

<p>
Since the early 2000's much research has been devoted to dealing with the problem a large, potentially untrustworthy software and hardware stack. While we normally expect supervisor and hypervisor software to isolate processes or VMs from each other, enclaves further expand this security model to also include isolation from some combination of either an OS, hypervisor, or even aspects of the physical hardware. Typically, enclaves are also coupled with an attestation mechanism, which allows a remote party to ensure an enclave is running securely.
</p>

<p>
Historically, the open source software community rightfully was extremely wary of the technologies used to build enclaves. The technologies were primarily aimed to be applied as a way to prevent users from modifiying their own computers and to enable DRM and has been criticized as antithetical to the philosophy of open source software. Today the technology has found a more useful place in the realms of privacy sensitive applications and safety-critical systems; the former is interesting because it inverts the model of DRM--instead of vendors not trusting end users with their devices, now it's the user's who do not trust the cloud vendor's servers.
</p>


<h2 class="display-6">Primitives for Building Enclaves</h2>

<div class="card" style="font-size:0.75rem;">
<table class="table table-responsive" >
<thead>
  <tr>
    <th scope="col" style="width:25%;">Technology</th>
    <th scope="col">HW Arch</th>
    <th scope="col">Resources</th>
    <th scope="col">Key Mechanisms</th>
    <th scope="col">Attestation Mechanism</th>
    <th scope="col">Trusted Computing Base (TCB)</th>
    <th scope="col">VM Enclave Support</th>
    <th scope="col">Legacy App Support</th>
    <th scope="col">Real Time Support</th>
    <th scope="col">Availability</th>
    <th scope="col">Physical Defenses</th>
  </tr>
</thead>
<tbody class="table-group-divider">
  <tr>
    <td>Dedicated Processor Cores</td>
    <td>*</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td><i class="bi bi-check-lg"></i></td>
    <td><i class="bi bi-check-lg"></i></td>
    <td><i class="bi bi-check-lg"></i></td>
    <td><i class="bi bi-check-lg"></i></td>
    <td><span class="badge text-bg-secondary">IMP</span></td>
  </tr>
  <tr>
    <td>Virtualization + Trusted Boot (E.g. Intel TXT)</td>
    <td>*</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td><i class="bi bi-check-lg"></i></td>
    <td><i class="bi bi-check-lg"></i></td>
    <td><span class="badge text-bg-secondary">IMP</span></td>
    <td><span class="badge text-bg-secondary">IMP</span></td>
    <td><i class="bi bi-x-lg"></i></td>
  </tr>
  <tr>
    <td><a href="https://www.intel.com/content/www/us/en/developer/tools/software-guard-extensions/overview.html">Intel Software Guard Extensions (SGX)</a></td>
    <td>x86</td>
    <td><a href="https://eprint.iacr.org/2016/086">Intel SGX Explained</a></td>

    <td>
		All-in-one hardware extension for enclave segments of processes. Added instructions to the ISA (EENTER, ECREATE, <em>etc.</em>). Enclave page cache (EPC) is encrypted before being written to DRAM.
	</td>
    <td>
		Hardware generates reports. Remote attestation uses Intel-provided provisioning and quoting enclaves.
	</td>
    <td>
		<ul>
			<li>proprietary hardware stack, new microcode</li>
			<li>closed source Intel-provided enclaves</li>
			<li>Intel SGX SDK Libraries</li>
		</ul>
	</td>
    <td><i class="bi bi-x-lg"></i></td>
    <td><i class="bi bi-x-lg"></i></td>
    <td><i class="bi bi-x-lg"></i></td>
    <td><i class="bi bi-x-lg"></i></td>
    <td><span class="badge text-bg-primary">ME</span></td>
  </tr>

<!-- ##########################################################################
  INTEL TDX
########################################################################### -->
  <tr>
    <td><a href="https://www.intel.com/content/www/us/en/developer/articles/technical/intel-trust-domain-extensions.html">Intel Trust Domain Extensions (TDX)</a></td>
    <td>x86</td>
    <td></td>
    <td>
		All-in-one hardware extension for VM enclaves. Added instructions to the ISA (SEAMCALL, <em>etc.</em>). Total memory encryption (TKTME) is used with different keys for VM Enclaves.
	</td>
    <td>
		Hardware generates reports. Remote attestation uses Intel-provided provisioning and quoting enclaves.
	</td>
    <td>
		<ul>
			<li>proprietary hardware stack, new microcode</li>
			<li>closed source Intel-provided enclaves</li>
		</ul>
	</td>
    <td><i class="bi bi-check-lg"></i></td>
    <td><i class="bi bi-check-lg"></i></td>
    <td><i class="bi bi-x-lg"></i></td>
    <td><i class="bi bi-x-lg"></i></td>
    <td><span class="badge text-bg-primary">ME</span></td>
  </tr>
  <tr>
    <td>AMD Secure Encrypted Virtualization (SEV), <br>SEV Encrypted State (SEV-ES), <br>SEV Secure Nested Paging (SEV-SNP)</td>
    <td>x86</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td><i class="bi bi-check-lg"></i></td>
    <td><i class="bi bi-check-lg"></i></td>
    <td><i class="bi bi-x-lg"></i></td>
    <td><i class="bi bi-x-lg"></i></td>
    <td><span class="badge text-bg-primary">ME</span></td>
  </tr>
  <tr>
    <td>ARM TrustZone + Bus Security</td>
    <td>ARMv7, ARMv8</td>
    <td></td>
    <td>
		Hardware extension dividing processor into two security worlds. Additional EL3 privilege level added, and SMC instruction to call into EL3 mode. Programmable EL3 firmware and Secure world OS used to create enclaves/TEEs. Vendors must implement bus security, <em>e.g.</em> a TrustZone Address Space Controller (TZASC).
	</td>
    <td>
		Some research efforts have implemented remote attestation.
	</td>
    <td>
		<ul>
			<li>proprietary hardware stack</li>
			<li>firmware, <em>e.g.</em> ARM Trusted Firmware</li>
			<li>Secure world OS/hypervisor</li>
		</ul>
	</td>
    <td><i class="bi bi-check-lg"></i></td>
    <td><i class="bi bi-check-lg"></i></td>
    <td><i class="bi bi-check-lg"></i></td>
    <td><i class="bi bi-check-lg"></i></td>
    <td><span class="badge text-bg-secondary">IMP</span></td>
  </tr>
  <tr>
    <td>ARM Confidential Compute Architecture (CCA)</td>
    <td>ARMv9</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td><i class="bi bi-check-lg"></i></td>
    <td><i class="bi bi-check-lg"></i></td>
    <td><i class="bi bi-question-lg"></i></td>
    <td><i class="bi bi-question-lg"></i></td>
    <td><span class="badge text-bg-secondary">IMP</span></td>
  </tr>
  <tr>
    <td>Capability Hardware Enhanced<br>RISC Instructions (CHERI)</td>
    <td>ARMv8</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td><i class="bi bi-question-lg"></i></td>
    <td><i class="bi bi-question-lg"></i></td>
    <td><i class="bi bi-question-lg"></i></td>
    <td><i class="bi bi-question-lg"></i></td>
    <td><i class="bi bi-question-lg"></i></td>
  </tr>
  <tr>
    <td>RISC-V Monitor Mode</td>
    <td>RISC-V</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td><i class="bi bi-check-lg"></i></td>
    <td><i class="bi bi-question-lg"></i></td>
    <td><i class="bi bi-question-lg"></i></td>
    <td><i class="bi bi-question-lg"></i></td>
    <td><span class="badge text-bg-secondary">IMP</span></td>
  </tr>
  <tr>
    <td>Pure Software Isolation</td>
    <td>*</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td><i class="bi bi-question-lg"></i></td>
    <td><i class="bi bi-check-lg"></i></td>
    <td><i class="bi bi-question-lg"></i></td>
    <td><i class="bi bi-question-lg"></i></td>
    <td><i class="bi bi-x-lg"></i></td>
  </tr>
  <tr>
    <td>Custom Processor Design/FPGA</td>
    <td>*</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td><i class="bi bi-check-lg"></i></td>
    <td><i class="bi bi-question-lg"></i></td>
    <td><i class="bi bi-x-lg"></i></td>
    <td><i class="bi bi-x-lg"></i></td>
    <td><span class="badge text-bg-primary">ME</span></td>
  </tr>
</tbody>
</table>
<div class="card-body">
<p class="card-text">

<table class="table table-borderless table-responsive">
	<thead>
	<tr>
      <th>Key</th>
      <th></th>
    </tr>
	</thead>
	<tbody>
		<tr>
			<td><span class="badge text-bg-primary">ME</span></td>
			<td>Memory encryption. Bus snooping may reveal access patterns.</td>
		</tr>
		<tr>
			<td><span class="badge text-bg-secondary">IMP</span></td>
			<td>Implementation defined Feature.</td>
		</tr>
		<tr>
			<td><i class="bi bi-question-lg"></i></td>
			<td>Support is unclear or unresearched.</td>
		</tr>
	</tbody>
</table>
</p>
</div>

</div>

<p>
</p>




</div>



<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
</body>

</html>
